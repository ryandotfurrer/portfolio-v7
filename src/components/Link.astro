---
import ArrowLeft from "./icons/ArrowLeft.astro";
import ArrowRight from "./icons/ArrowRight.astro";

interface Props {
  href: string;
  IconLeft?: boolean;
  IconRight?: boolean;
  class?: string;
  target?: string;
  rel?: string;
  [key: string]: any;
}

const {
  href,
  IconLeft = false,
  IconRight = false,
  class: className,
  target,
  rel,
  ...restProps
} = Astro.props;

const linkClasses = [
  "group inline-flex items-center gap-x-1 small-heading border-b-0 text-foreground-muted transition-colors hover:text-foreground",
  className,
]
  .filter(Boolean)
  .join(" ");

// Handle rel attribute for external links
let finalRel = rel;
if (target === "_blank" && !rel) {
  finalRel = "noopener noreferrer";
}
---

<a
  href={href}
  class={linkClasses}
  target={target}
  rel={finalRel}
  {...restProps}
>
  {IconLeft && <ArrowLeft />}
  <span>
    <slot />
  </span>
  {IconRight && <ArrowRight />}
</a>
