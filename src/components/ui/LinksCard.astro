---
import { cn } from "@/lib/utils";

interface Props {
  href?: string;
  variant?: "default" | "square";
  class?: string;
}

const { href, variant = "default", class: className } = Astro.props;

const baseClasses =
  "block rounded-lg border bg-card p-2 transition-[translate,box-shadow] duration-150 ease-in-out active:scale-97 motion-reduce:active:scale-100 links-card no-underline size-full touch-manipulation";
const variantClasses =
  variant === "square"
    ? "aspect-square squircle rounded-4xl p-4 hover:-translate-y-1 hover:shadow-lg motion-reduce:hover:translate-y-0 motion-reduce:hover:shadow-none ring-offset-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
    : "hover:-translate-y-1 hover:shadow-lg motion-reduce:hover:translate-y-0 motion-reduce:hover:shadow-none";
const classes = cn(baseClasses, variantClasses, className);
---

{
  href ? (
    <a href={href} target="_blank" rel="noopener noreferrer" class={classes}>
      <slot />
    </a>
  ) : (
    <div class={classes}>
      <slot />
    </div>
  )
}
